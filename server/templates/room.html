{% extends "base.html" %}

{% block content %}
    <div class="row" style="margin-top: 10vh">
        <div class="col-0 col-lg-2 col-xl-3"></div>
        <div class="col-12 col-lg-8 col-xl-6 insidecontent bg-whiteopacity">
            <div class="input-group input-group-lg" style="width: 50%; margin: auto;">
                <input class="form-control" value="{{ room }}" type="text" id="room" style="font-weight: bold;" readonly>
                <div class="input-group-append">
                    <button id="copy-button" class="btn btn-outline-secondary" data-clipboard-target="#room" type="button">
                        <img src="../static/icons/clipboard.svg" class="copyimage" alt="Copy to clipboard">
                    </button> <!-- possible bug with inspect element changing size exiting copy button svg size -->
                </div>
            </div>
            <small id="codeHelp" class="form-text">Room URL code.</small>
            <br>
            <h4>Room Contents</h4>
            <table class="content-table sortable">
                <thead>
                    <tr>
                        <th style="width: 33%;">Key
                            <span id="sorttable_sortfwdind">&nbsp;&#x21D5;</span>
                        </th>
                        <th>Value
                            <span id="sorttable_sortfwdind">&nbsp;&#x21D5;</span>
                        </th>
                    </tr>
                </thead>
                <tbody id="tbody">
                    <tr>
                        <th></th>
                        <td></td>
                    </tr>
                </tbody>
            </table>
            {% if view_only == False %}
                <form name="Form">
                        <div class="form-group" style="width: 33%; float: left;">
                            <input type="text" id="keyInput" class="roominput form-control" aria-describedby="keyInputHelp" placeholder="Key"
                                onkeypress="detect_enter_keyboard(event)" required>
                        </div>
                        <div class="form-group" style="width: 67%; float: left;">
                            <input type="text" id="valueInput" class="roominput form-control" aria-describedby="valueInputHelp" placeholder="Value"
                                onkeypress="detect_enter_keyboard(event)">
                        </div>
                    <div class="buttoncontainer" onclick="SET()">
                        <button type="button" class="indexbutton">
                            SET
                            <div class="fill fill-two"></div>
                        </button>
                    </div>
                    <small id="codeHelp" class="form-text">Create or Update Data</small>
                </form>
            {% endif %}
            <br>  
            <div class="mini-spacer" style="width: 100%;"></div> <!-- mini-spacer -->
            <br>
            <div>
                <div class="metatext">
                    Real-time Room Connections
                </div>
                <div class="iconcontainer" data-toggle="tooltip" title="Total Connections">
                    <img src="../static/icons/people.svg" class="icon">
                    <span class="metatext" id="room_connections">0</span>
                </div>
                <span class="icondetails">
                    <div class="iconcontainer" data-toggle="tooltip" title="Total Connections">
                        <img src="../static/icons/pc.svg" class="icon">
                        <span class="metatext" id="room_browser">0</span>
                    </div>
                    <div class="iconcontainer" data-toggle="tooltip" title="Total Connections">
                        <img src="../static/icons/chip.svg" class="icon">
                        <span class="metatext" id="room_python">0</span>
                    </div>
                </span>
            </div>
        </div>
        <div class="col-0 col-lg-2 col-xl-3"></div>
    </div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
    <script src="../static/scripts/networking.js"></script>
    <script src="../static/scripts/initialize.js"></script>
    <script src="../static/scripts/sorttable.js"></script>
    <script src="../static/scripts/clipboard.js"></script>
{% endblock %}